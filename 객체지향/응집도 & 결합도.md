# 응집도와 결합도

## 개요

하나의 독립적인 기능을 하는 단위를 모듈이라고한다.

그리고 이렇게 모듈을 나누어 전체 구조를 만드는 것을 모듈화라고 한다.

모듈화가 잘 되어 독립성이 높을수록 품질이 높다고 말할 수 있다.

각각의 모듈들은 자신의 목적에 맞게 일을 하고 독립성이 높아 재사용성이 높으며 코드를 이해하고 수정하기 용이하기 때문이다.

이러한 독립정을 측정하는 지표가 바로 응집도와 결합도이다.

## 결합도

결합도는 모듈간의 상호 의존 정도를 말한다.

쉽게 말하면 결합도가 높을수록 다른 모듈과 연관관계가 깊고 이로 인해 하나의 모듈을 변경하면 그와 연관되어있는 모듈들을 모두 수정해줘야한다.

예를들어 자동차를 정비할 일이 생겼는데 바퀴를 교체할 때 핸들까지도 교체해야한다면 황당하지않을까.

결합도의 종류는 다음과 같다.

위에서 아래로 갈수록 결합도가 높다.

* 자료 결합도 : 모듈간의 인터페이스로 전달되는 파라미터를 통해서만 상호작용이 일어나는 경우
 (결합도 낮음)
* 스탬프 결합도 : 모듈간의 인터페이스로 배열이나 객체, 자료 구조 등이 전달되는 경우
* 제어 결합도 : 어떤 모듈이 다른 모듈 내부의 논리적인 흐름을 제어하는 제어 요소를 전달하는 경우
* 외부 결합도 : 어떤 모듈이 외부에 있는 다른 모듈의 데이터를 참조하는 경우
* 공통 결합도 : 여러개의 모듈이 하나의 공통 데이터 영역을 사용하는 경우
* 내용 결합도 : 어떤 모듈 내부에 있는 변수나 기능을 다른 모듈에서 사용하는 경우 (결합도 높음)


자료 결합도는 모듈간의 인터페이스로 전달되는 파라미터를 통해서만 상호작용이 일어나는 경우로 한 모듈을 변경하더라도 다른 모듈에는 영향을 끼치지 않는 결합형태로 가장 바람직한 디자인이다.

예로 들자면 파라미터 타입이 List, String등 순수한 자료형으로만 이루어진 경우가 있고 스탬프 결합도는 개발자가 작성한 클래스안에 데이터를 넣는 경우가 있다.

스탬프 결합도가 자료 결합도보다 높은 결합도를 같는 이유는 다음과 같다. 예를 들어 PostDTO 클래스를 만들고 그 내부에 필드를 선언한다.
```java
@Data
Class PostDTO {
 private String title;
 private String content;
 private String writer;
}
```

PostDTO를 파라미터로 사용할 경우 PostDTO를 받아서 사용하는 클래스는 다음과 같이 접근해서 사용할 수 있다.

```java
postDTO.getContent();
```

그러나 만약 content보다 text가 더 적절한 필드명 이라는 생각이 들어서 이름을 바꾸게 되는 경우를 생각해보면 PostDTO를 파라미터로 받아서 사용하는 클래스의 코드에도 변화가 생긴다. 그렇기 때문에 스탬프 결합도의 결합도가 자료 결합도보다 높아지는 것이다.


## 응집도

응집도는 모듈 내부의 코드들이 일관성있게 밀접해있는 정도를 말한다.

한 모듈이 하나의 기능을 갖고있는 것은 응집도가 높은 것이고 한 모듈이 여러 기능을 갖고있는 것은 응집도가 낮은 것이다.

예를 들어 도서 대출을 담당하고있는 클래스에서 유저의 정보를 조회하고 수정한다면 이는 응집도가 낮은 상황이다.

응집도의 종류는 다음과 같다.

위에서부터 응집도가 제일 높은 순이고 좋은 형태이다.

* 기능적 응집도 :모듈 내부의 모든 기능이 단일 목적을 위해 수행되는 경우
* 순차적 응집도 : 모듄 내에서 한 활동으로부터 나온 출력 값을 다른 활동이 사용할 경우
* 교환적 응집도 : 동일한 입출력을 사용해 다른 기능을 수행하는 활동들이 모여있을 경우
* 절차적 응집도 : 모듈이 다수 관련 기능을 가질 때 구성요소들이 그 기능을 순차적으로 수행할 경우
* 시간적 응집도 : 연관된 기능보다는 특정 시간에 처리되어야하는 활동들을 한 모듈에서 처리할 경우
* 논리적 응집도 : 유사한 성격을 갖거나 특정 형태로 분류되는 처리 요소들이 한 모듈에서 처리되는 경우
* 우연적 응집도 : 모듈 내부의 각 구성 요소들이 연관이 없을 경우.

유지보수성을 높이려면 높은 응집도와 낮은 결합도를 가지는 것이 이상적이다.