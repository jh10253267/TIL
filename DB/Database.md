# Database Overview

## 개요

데이터의 집합

## DBMS

데이터베이스를 데이터의 집합이라고 정의한다면 이런 데이터베이스를 관리하고 운영하는 소프트웨어를 DBMS라고 한다.

우리가 웹 사이트에서 활동한 정보(회원가입, 글쓰기, 댓글)들은 해당 웹 사이트에서 관리하는 서버에 저장되어있다.

DBMS의 개념은 1973년 에드워드 프랭크 커드라는 학자가 이론을 정립했고 그 후 많은 DBMS 제품들이 나오게 되었다.

이러한 DBMS를 다루는 언어가 바로 SQL(구조화된 질의 언어)이다.

MySQL은 교육용이나 개인용으로 무료버전을 제공한다. 그래서 상용목적인데 무료로 사용하고 싶다면 오픈소스인 MariaDB를 사용할 것을 권장한다.

## 종류

DB는 크게 두 가지 종류가 존재한다. RDB, NoSQL 둘의 차이는 정형적이냐 아니냐이다.

RDB는 엑셀을 생각하면 쉽다. 행과 열이 있고 그 교차점에는 데이터가 존재한다. 딱 정해진 네모난 형태 바깥에 데이터가 있을 수 있을까? 조금 어색하다. 그래서 RDB는 수평적 확장이 불가능하다고 말한다. 한 튜플에만 속성을 추가할 수 없는 것이다. 추가하려면 테이블 전체의 속성을 하나 추가해야하고 한 튜플 이외에는 전부 그 값이 NULL로 들어가야한다.

NoSQL은 비정형 데이터를 다루는데 특화되어있다. 위의 상황에서 한 튜플에만 속성을 추가해서 기록할 수 있다. 수평적 확장이 가능하다고 말한다.

## 개체

테이블은 데이터베이스의 핵심 개체이다. 테이블 외에도 여러 개체가 존재하는데 그 예로는 인덱스, 뷰, 스토어드 프로시져 등이 있다.

## 인덱스

우리가 책을 살 때 항상 앞부분에는 목차가 나온다. 이를 통해서 관심있는 부분을 쉽게 찾아볼 수 있다. 또는 개념서의 경우 책의 맨 뒷 부분에 키워드들과 그 키워드가 나온 페이시를 적어두기도 한다.

이를 통해서 원하는 내용을 찾으려 원하는 부분이 나올 때 까지 책의 맨 첮장부터 맨 뒷장까지 넘기면서 볼 필요이 간단하게 한 번에 찾을 수 있다.

데이터가 100건이라고 하면 사람도 직접 하나하나 봐가며 원하는 데이터를 찾을 수 있다. 그러나 만약 데이터가 100만건이라면? 쉽지 않을것이다.

컴퓨터에게도 비교적 오래걸리는 작업일 것이다.

그래서 데이터베이스에서도 이러한 아이디어를 적용시킨 인덱스라는 개념이 있다. 인덱스는 DB의 데이터들의 목차이다.


## 뷰

뷰는 테이블과 비슷한 가상의 테이블이다.

보여지기 위한 테이블로 실제 데이터베이스의 자료들이 아니라 일종의 바로가기 아이콘이라고 생각해도 좋다.

## 스토어드 프로시져

스토어드 프로시져란 마치 SQL을 사용해서 일반 프로그래밍 언어처럼 코딩을 할 수 있는 개념이다.

얘를 들어 두가지 SQL을 묶어서 실행해야한다고 해보자 즉 A쿼리를 날리고 뒤이어서 B쿼리를 날려야한다.

다음과 같다.

```sql
SELECT * FROM display_info where id = 1;
SELECT * FROM product where display_info_id = 1;
```

그리고 이러한 쿼리들은 앞으로도 자주 사용되는 쿼리라고 해보자.

매번 이러한 쿼리들을 입력해서 사용해야한다면 불편할 것이다.

이럴 때 다음과 같이 작성할 수 있다.

```sql
DELIMITER
CREATE PROCEDURE myProc()
BEGIN
  SELECT * FROM display_info where id = 1;
  SELECT * FROM product where display_info_id = 1;
END
DELIMITER;
```

이제 두 쿼리를 실행할 때 CALL myProc();와 같이 실행하면 된다.



