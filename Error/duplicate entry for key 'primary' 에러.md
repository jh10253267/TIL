# duplicate entry for key 'primary' 에러

jpa를 사용할 때 하나의 컨텍스트로 묶일 수 있는 것들만 연관관계를 설정해주곤한다.

그래서 유저와 게시글의 연관관계를 설정하지 않고 작성자에 유저의 아이디를 넣어놨는데 duplicate entry for key 'primary' 에러가 생겼다.

api유저를 생성하여 insert할 때 pk값을 auto_increment가 아니라 유저의 아이디로 설정하고 다른 테이블의 칼럼값으로 넣어놨는데 오류가 생긴것이다.

그래서 유저 테이블의 pk값을 자동 생성되는 id값으로 설정했더니 정상적으로 유저정보가 Insert되었다.

아직 잘 이해가 안되는 부분이 다른 테이블에 id가 1인 튜플이 있다고 해보자 그럼 테이블의 칼럼으로 1이라는 값이 들어가면 안된다는 말인가? 그럴리는 없을 것 같은데

내가 게시글의 작성자칼럼으로 넣은 값은 유저의 아이디로 그저 칼럼값인데..

dml 실행 순서가 문제였나 싶기도하다.

좀 더 생각해봐야겠다.