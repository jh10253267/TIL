# 슬라이딩 윈동

## 개요

슬라이딩 윈도우란 2개의 포인터로 범위를 정한 다음 범위를 유지한 채로 이동하며 문제의 조건에 맞는 답을 찾는 문제 해결방법(알고리즘)이다.

일정 범위를 유지하며 이동하는 방식으로 마치 창틀에 창문을 여는 듯한 모양이라 슬라이딩 윈도우다.

코딩 테스트 문제로는 프로그래머스의 징검다리 건너기, 백준의 DNA 비밀번호, 최솟값찾기 1 등이 있다.

## 알고리즘 설명

```
문제

N개의 수 A1, A2, ..., AN과 L이 주어진다.

Di = Ai-L+1 ~ Ai 중의 최솟값이라고 할 때, D에 저장된 수를 출력하는 프로그램을 작성하시오. 이때, i ≤ 0 인 Ai는 무시하고 D를 구해야 한다.
```

```
입력

첫째 줄에 N과 L이 주어진다. (1 ≤ L ≤ N ≤ 5,000,000)

둘째 줄에는 N개의 수 Ai가 주어진다. (-10^9 ≤ Ai ≤ 10^9)
```

```
출력

첫째 줄에 Di를 공백으로 구분하여 순서대로 출력한다.
```

```
예제 입력

12 3
1 5 2 3 6 2 3 7 3 5 2 6
```
```
예제 출력

1 1 1 2 2 2 2 2 3 3 2 2
```

문제의 조건을 봤을 때 첫 줄의 두 번째 값은 L로 i가 10이라고 하면 범위는 A8~A10으로 L이 바로 윈도우의 크기이다.

예제를 보니 정렬되지 않은 입력값들이 주어지고 일정 구간을 잡고 그 안에서 정렬하면 될 것 같다.

일반적인 정렬의 시간 복잡도는 `nlogn`의 시간 복잡도를 가진다.

최대 범위는5,000,000이므로 일반적인 정렬은 사용할 수 없다.

### 덱

덱은 양 끝에서 데이터를 삽입하거나 삭제할 수 있는 자료구조이다.

덱에서 인덱스, 숫자의 형태의 노드를 구현하여 저장한다.

예를 들어 (1, 1), (2, 5)가 덱에 있는 상황이다.

이 상태에서 새로운 노드인 (3, 2)가 추가된다.

이렇게 새로운 노드가 저장될 때 덱 뒤에서부터 비교를 시작한다. (2, 5)는 (3, 2)보다 숫자가 크기때문에 덱에서 제거한다.

그리고 (1, 1)은 (3, 2)보다 크기가 작으므로 탐색을 멈추고 덱에 저장한다.

이렇게 구현한다면 덱에 있는 노드는 (1, 1), (3, 2)로 오름차순으로 정렬되었다.

계속 해서 반복한다.

예를 들어 (4, 3)이 들어왔을 때 기존의 (3, 2)보다 크기 때문에 덱에 저장된다. 그리고 현재 인덱스의 범위는 1~4까지다. 이는 슬라이딩 윈도우의 크기를 벗어났기 때문에 제거한다.

현재 덱은 (3, 2), (4, 3)가 저장되어있다.

여기서 최솟값을 출력하면 2가 된다.

## 손으로 풀기

(1, 1)  
(1, 1), (2, 5)    
(1, 1), (3, 2)  
(3, 2), (4, 3)  
(3, 2), (4, 3), (5, 6)  
(6, 2)  
(6, 2), (7, 3)  
(6, 2), (7, 3), (8, 7)  
(9, 3)  
(9, 3), (10, 5)  
(11, 2)  
(11, 2), (12, 6)  

답은 `1,1,1,2,2,2,2,2,3,3,2,2`


## 의사코드
```
N(수의 갯수), L(윈도우의 크기)
medeque(데이터를 담을 자료구조)
now(주어진 숫자 데이터를 가지는 리스트)

for N만큼 반복:
  덱의 마지막 위치에서부터 현재 값 보다 큰 값은 제거
  덱의 마지막 위치에 현재 값 저장
  덱의 1번째 위치부터 윈도우 크기를 벗어난 값을 제거
  1번째 데이터 출력
```
## 코드

```python
from collections import deque
N, L = map(int, input().split())
mydeque = deque()
now = list(map(int, input().split()))

for i in range(N):
    while mydeque and mydeque[-1][0] > now [i]:
        mydeque.pop()
    mydeque.append((now[i], i))
    if mydeque[0][1] <= i - L:
        mydeque.popleft()
    print(mydeque[0][0], end=' ')    
```




