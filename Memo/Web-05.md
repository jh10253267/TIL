# Spring Boot

## 개요
 스프링 부트는 스프링에서 파생된 여러 서브 프로젝트에서 시작해서 이제는 완전한 메인 프로젝트가 되어버린 케이스라고 할 수 있다.

 엄밀히 말하자만 스프링 프레임워크 개발도구라고 볼 수 있다. 이제는 스프링과 스프링 부트가 동의어로 취급되고있는 상황이다.

## 스프링 부트의 등장 배경
 최근 많은 프로그래밍 언어들과 이를 이용한 웹이 등장하고 있다.  
 이들은 쉽고 간단한 강력한 웹 개발 라이브러리들이다.<br>
 파이썬이나 JS로 웹 개발을 해본 사람이 자바와 스프링을 이용해 웹 개발을 해본다면 아마 그 복잡함과 까다로움에 놀랄 것이다.
 
 이런 복잡함과 어려움에도 불구하고 스프링이 있는 이유는 우선 스프링으로 구현된 웹이 굉장히 많고 일단 설정을 하면 굉장히 다양한 기능을 사용할 수 있다. 

 그리고 스프링 개발자 커뮤니티가 많은 것도 하나의 이유가 된다. 기업에서도 안정된 서비스를 위해 여러 사례들과 해결책들이 있다는게 기업 입장에서는 웹개발 언어로 자바를 선택하는 메리츠가 충분하기 때문이다. 

 그러나 언제까지? 새로운 가볍고 배우기 쉬운 웹 개발 프로그램이 등장하고 있는데 언제까지 스프링의 장점들이 이를 보완할 수 있을 것인가?

 실생활로 비유를 해보자면 일단 우리는 청소기를 이용해서 청소를 하곤 한다. 그러다가 로봇청소기가 등장했다. 그러나 사람들이 많이 사용하지 않았는데 그 이유는 취지는 정말 좋으나 사람들은 의심했기 때문이다. 가격도 비쌌고 성능을 의심했고 새로 구입하기엔 사람들의 사용 경험이 쌓이지 않은 상태였기 때문이다. 
 그러나 지금의 일상생활속엔 여러가지 자동화 기기가 스며들어있다.
 값 싸고 성능도 괜찮은 로봇청소기가 많이 나왔고 이런 저런 곳에서 로봇이 쓰인다. 이제 우리가 쓰던 청소기는 사라질지도 모른다.

 스프링측의 입장에선 이러한 웹 생태계의 변화를 의식하지 않을 수 없었을 것이라 생각한다. 

 스프링 부트는 이런 맥락에서 나온 개념이라고 볼 수 있다. 자바 8에서도 이런 시도들을 엿볼 수 있는데 람다식이라던지 인터페이스의 디폴트 메소드등이 이와 같은 시도라고 할 수 있다.

 우리는 이렇게 등장한 스프링 부트를 이용해 쉽게 프로젝트를 시작할 수 있고 다양한 요구사항에 대해서도 잘 대처할 수 있다.

## 스프링 부트의 특징
 * 단독 실행이 가능한 도구이다.(독립적)
  기본적으로 톰캣 WAS가 내장되어있고 이로 인해 단독 실행이 가능하기에 스프링 부트를 실행 가능한 jar파일로 만들고 다른 운영체제에서 실행하는 등의 작업이 가능하다는 얘기이다.
 * 실제 제품 수준의 애플리케이션을 쉽게 만들어준다.
 * 이식성
  이전에서 살펴봤던 서블릿에서 스프링으로 넘어오는 과정은 기존의 서블릿 코드를 재활용 할 수 없기때문에 러닝 커브가 상당히 큰 편이었다. 반면에 스프링에서 스프링 부트로 넘어오는 일은 기존의 코드나 개념이 그대로 유지되기 때문에 코드의 재활용에 큰 어려움이 없다.
 * 서드파티 라이브러리들을 쉽게 사용하고 확장시킬 수 있다.
 * JSP를 사용하지 않는다. - 
  기본 템플레이팅 엔진으로 JSP대신 Thymeleaf를 사용한다.
 * 기본적으로 cp로는 히카리 cp를 사용한다. 
 * 자동 설정 - spring jpa의존성을 추가하고 메인 테스트나 메인 메소드를 실행시켜보면 실패하는 것을 볼 수 있는데 이는 스프링 부트가 자동설정을 통해서 인식한 jpa를 실행하려 관련된 정보를 찾을 수 없기 때문에 발생하는 에러이다.
 * 데이터를 다룰 때 MyBatis등을 사용하지 않고 JPA라는 것을 사용한다.

## 스프링 부트 요구사항
 스프링부트는 자바 8 이상 그리고 spring 5.0.4이상을 사용한다.
 서블릿은 톰캣 8.5 이상 서블릿 버전 3.1이상을 사용한다.


## 스프링 부트로 프로젝트 만들기

스프링 부트 프로젝트를 만드는 방법은 두 가지가 있다.
하나는 Spring Initializr 사이트에서 내가 원하는 사양을 설정해준 다음 생성을 하면 하나의 프로젝트가 압축파일 형식으로 제공된다.

다른 하나는 인텔리제이에서 프로젝트를 만들 때 spring initializr를 이용하는 방법이다. 그러나 사실 두 방법이 동일한 방법이라고 봐도 무방하다. 왜냐하면 인텔리제이에서도 해당 서비스를 이용해서 프로젝트를 생성하기 때문이다.

여기서 스프링과는 다른 편리한 점을 느낄 수 있는데 우리가 직접 mvc repository에서 검색하고 해당 의존성을 우리의 프로젝트에다 입력을 해줘야했는데 이런 것들도 알아서 해준다.

이렇게 생성된 프로젝트에는 제일 먼저 메인 메소드를 찾아볼 수 있다. 기존의 스프링에서는 was를 사용했어야하는데 그 이유는 was안에 main메소드가 있기 때문이다. 그러나 앞에 살펴본대로 톰캣이 내장되어있어서 단독 실행이 가능하기 때문에 프로젝트를 실행할 때 메인 메소드를 실행시키면 된다.

기본적으로 눈여겨 볼 부분은 static/template/test/application.properties 부분이다.

static폴더는 정적인 파일을 보관하는 곳으로 css,js등의 정적인 자료들을 해당 폴더안에 넣어두면 된다.

스프링에서는 모든 요청을 디스패쳐 서블릿이 받기 때문에 이 부분을 javaConfig로 설정을 해줘야했다. 그런 부분들은 스프링 부트 내부적으로 이미 다 설정이 되어있다.

* template
해당 폴더는 스프링에서 jsp파일들을 따로 보관했던 것처럼 사용자의 요청에 따라 내부적으로 절차를 거치고 뷰와 모델등을 리턴해줬던 것처럼 그러한 뷰들이 있어야하는 폴더이다.

* test패키지
해당 패키지는 테스트를 수행하기 위한 패키지로 간단하게는 테스트를 하려 한다면 해당 패키지에서 설계하고 수행하면 된다.
스프링 부트 테스트에 대해서는 따로 다뤄볼 예정이다.

## 기본 설정

### application.properties
프로젝트와 관련된 설정을 이 부분에서 할 수 있는데 포트 번호를 바꾼다던지 db관련 설정을 해준다던지 로깅 관련 설정을 해줄 수 있다.

그리고 해당 파일을 .yml파일로 변경해서 사용할 수 있는데 개인적으로 yml 확장자로 변경해서 쓰는 편이 좋다고 느낀다.

### lombok
개인적으로 좀 아쉬운 부분인데 프로젝트를 생성할 때 의존성에 lombok을 체크해주는 것 만으로도 lombok을 사용할 수 있지만 테스트 환경에서는 관련 설정이 빠져있다. 그래서 직접 project lombok사이트에서 관련 설정을 복사해와서 사용하면 된다.

### Test
스프링에선 테스트 관련 의존성을 추가해줘야하는 불편한 점이 있었는데 스프링 부트는 프로젝트를 생성할 때 이미 테스트관련 설정이 완료되고 메인 메소드 테스트를 위한 클래스도 하나 포함되어있다.



