# Web API

## 개요

url은 자원 그 자체를 의미하고 그 자원에 어떤 것을 하려는지는 HTTP 메소드를 통해 표현한다.

따라서 url에는 동사가 들어가는 것은 좋지 않고 Pathvariable을 사용해 /api/v1/boards/1 과 같이 설계한다.

GET방식으로 위의 url을 호출하면 1번 보드를 읽어오는 요청이 되고 DELETE메소드로 요청한다면 1번 보드를 삭제한다는 의미가 된다.

슬래시 기호는 하나의 계층을 의미한다.

예를 들어 /api/v1/boards/1/comments/1 이라고 하면 1번 보드의 1번 코멘트를 의미한다.

이렇게 요청을 하면 요청이 성공할 수도 있고 실패할 수도 있는데 서버에서는 HTTP 상태코드를 반환해준다.

200번은 클라이언트의 요청을 성공적으로 처리했음을 의미하고 201은 put을 통해 서버에 파일이 생성된 경우 쓴다.

400번은 클라이언트의 요청에 무언가 문제가 있다는 의미이다.

대표적으로 404번은 요청한 데이터가 없다는 것을 의미하는 상태코드이다.

400번은 클라이언트의 요청이 부적절한 경우 사용한다. 

401번은 클라이언트가 인증되지 않은 상태에서 인증이 필요한 자원을 요청했을 경우 사용한다.

403번은 유저의 인증상태와 관계없이 응답하고싶지 않은 리소스를 클라이언트가 요청했을 경우 사용한다.  
이 경우 클라이언트가 요청했을 시 403번을 확인하게 되면 서버에 요청한 자료가 존재함을 유추할 수 있기때문에 403번 대신에 404번을 사용하는 것을 권고한다.

## 주의점

마지막 문자로 슬래시를 포함하지 않는다.

url의 모든 글자는 리소스의 유일한 식별자로 사용되어야한다. url이 다르다는 것은 리소스가 다르다는 의미이고

리소스가 다르면 url도 달라야한다. 그렇기 때문에 마지막 문자는 슬래시가 아니여야한다.

가독성을 높이기 위해 하이픈을 사용해도 좋다.

언더바는 사용하지 않는다. 가독성이 떨어지기 때문이다.

대문자 사용을 지양한다. RFC 3986(URI 문법 형식)은 대소문자를 구별한다.

파일 확장자는 url에 포함시키지 않는다. 대신 accept header를 사용한다.

url이 복잡해지면 서브 리소스에 명시적으로 표현할 수 있다.

/users/1/likes/food -> 1번 유저가 좋아하는 음식이라는 의미이다.


