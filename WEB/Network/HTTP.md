# HTTP

## 개요
사람과 사람이 서로 소통하기 위해선 지켜야 할 것들이 있다.
서로 알아들을 수 있는 언어를 사용해야 하고 한 사람이 말을 하면 다른 사람은 말을 들어야한다.
방대한 네트워크에서도 웹 브라우저와 웹 서버가 서로 소통하기 위해선 규약이 필요하다.
이 규약이 HTTP이다.

## 인터넷
인터넷 != WWW
인터넷 기반의 대표 서비스중 하나이다.
물리적인 하나의 컴퓨터에서는 여러개의 서버가 작동할 수 있다.
각각의 서버들은 포트라는 값으로 구분되어 동작한다.
인터넷 80
이메일 25
ftp 21 번 한마디로 네트워크들의 네트워크이다.
이런 인터넷들은 tcp/ip라는 방식으로 연결되어있다.
HTTP 프로토콜은 어떤 자료라도 전송할 수 있다.
브라우저로 동영상을 보고 이미지가 포함된 사이트를 볼 수 있는 이유는 이런 이유이다. 최초의 HTTP.0.9.
현재는 1.0 을 쓰고 2.0까지 나온 상태이다.
기본적인 구조는 요청을 보내고 응답을 받는다.

## HTTP란?
Hyper Text Transfer Protocol의 약자로 팀 버너스리와 그가 속해있는 팀이 HTTP또한 발명했다. https://www.naver.com/ 와 같이 표현된다. 참고로 https는 기존의 http에서 보안을 강화한 버전이다.

여담) HTTP를 발명한 팀 버너스리가 후회하고 있는게 하나 있는데  인터넷 주소 맨 앞에 붙는 ‘http://’라는 문구에서 사실 ‘//’, 빗금 두 개가 아무 쓸모도 없는 부분였다고 한다. 실제로 인터넷 주소를 입력할 때 해당 부분을 빼고 넣어도 아무런 지장이 없다. 그래서 팀 버너스리는 모두를 번거롭게 했다며 자책했다고 한다. 그 당시에는 그게 멋있어보였다고.....

## HTTP의 작동방식
http은 서버/클라이언트 모델로 불특정 다수를 대상으로 하는 서비스에 큰 이점을 가진다.
http는 요청에 대한 응답을 하면 연결을 끊어버리기에 클라이언트 서버간의 최대 연결 수보다 훨씬 많은 요청을 처리할 수 있다.
이런 장점은 동시에 단점이 되는데 바로 클라이언트의 이전 상황을 알 수 없다는 것이다. 이러한 특성을 Statelese라고 한다. 이러한 단점을 보완하고자 쿠키와 같은 기술을 사용한다.
![http](https://cphinf.pstatic.net/mooc/20180119_25/1516354290022wUY3x_PNG/http_-_.PNG?type=w760)
클라이언트가 서버에 요청을 하면 요청에 따른 응답을 해준다.
응답이 끝나면 연결이 끊긴다.(stateless)
요청 데이터 포맷
요청메세지는 헤더부분 빈줄 요청 바디부분으로 나뉜다.
첫 번째 줄에는 요청메소드 요청 url 프로토콜 버전.
겟 방식은 요청 바디가 없고 url에 요청 정보가 포함되어있다.
응답 데이터 포멧
헤더 빈줄 응답 바디부분.
첫줄에는 응답 버전 응답 상태코드 응답 메세지

## URL
Uniform Resource Locator의 약자로 인터넷 상의 자원의 위치를 말한다. 이미지나 동영상등.
URL은 크게 세 부분으로 나누어진다.
첫번째 프로토콜 두 번째 ip주소나 도메인 이름 (물리적 컴퓨터의 인터넷상 위치)
세번째 웹 서버의 특정 파일에 접근하기 위한 경로 혹은 주소를 말한다.

 
## HTTP 메소드
한 건의 요청은 다음과 같이 구성되어있다.
* 요청메세지
* 리퀘스트 라인
* 헤더
* 블랭크라인
* 바디
여기에서 requestLine은 다음과 같이 구성된다.
요청 메소드는 서버에게 요청의 정보를 알려주기 위해 사용된다.
각각의 메소드들은 다음과 같은 의미를 가진다. SQL을 공부해본 사람이라면 알 수 있겠지만 각각의 메소드들은 DML문법과 1:1로 매칭된다.

* GET : 정보를 요청하기 위해서 사용한다. (SELECT)
* POST : 정보를 밀어넣기 위해서 사용한다. (INSERT)
* PUT : 정보를 업데이트하기 위해서 사용한다. (UPDATE)
* DELETE : 정보를 삭제하기 위해서 사용한다. (DELETE)
* HEAD : (HTTP)헤더 정보만 요청한다. 해당 자원이 존재하는지 혹은 서버에 문제가 없는지를 확인하기 위해서 사용한다.
* OPTIONS : 웹서버가 지원하는 메서드의 종류를 요청한다.
*  TRACE : 클라이언트의 요청을 그대로 반환한다. 예컨데 echo 서비스로 서버 상태를 확인하기 위한 목적으로 주로 사용한다.
