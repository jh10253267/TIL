# Subnetting

## 개요

현재 우리가 사용하고 있는 주소 체계는 IPv4이다. 이는 8비트씩 총 4개 묶음으로 구성되어있으며 총 32비트를 통해 주소를 표현한다.

그럼 IPv4체계로 구분할 수 있는 IP주소는 총 2의 32제곱개가 된다. 이는 약 42억개로 오늘날에는 42억개 이상의 아이피가 제공되어야하는 상황이 되었다.

이를 해결하기 위한 방법이 바로 서브네팅이다.

## 개념

서브네팅은 원본 네트워크를 여러 개의 네트워크로 분리하는 과정을 말한다.

네트워크 아이디는 네트워크를 구분하기 위한 주소로 수정하거나 변경할 수 없는 주소이고 호스트 아이디는 네트워크 안에서 장비를 구분하기 위한 주소를 말한다.

아이피를 네트워크 Id와 호스트 ID로 나누어 대표 네트워크 IP일 경우 호스트는 ID를 기준으로 모두 0을 채워 넣고 브로드 캐스트 IP 주소일 경우 호스트 ID는 모두 1을 채워 넣는다.

방식에는 FLSM 방식과 VLSM 방식이 있다.

FLSM 방식은 서브넷의 길이를 고정적으로 사용하고 한 대역을 동일한 크기로 나누는 방식을 말한다.

VLSM 방식은 서브넷의 길이를 가변적으로 사용하고 한 대역을 다양한 크기로 나누는 방식이다.

예를 들어 Class A의 영역은 0.0.0.0 ~ 127.255.255.255 이고 네트워크 ID는 4개중 제일 앞부분을 말한다.

만약 192.168.0.0/24 네트워크를 9개의 서브넷으로 나눈다면 다음과 같다.

192로 시작하는 ip는 클래스 c에 해당하고 앞의 3부분은 서브네팅에 사용할 수 없고 사용할 수 있는 부분은 맨 마지막 8비트이다.

이를 9개의 서브넷으로 분할한다면 다음과 같다. 9개를 구문하기 위해서는 이진법으로 0~8까지의 숫자가 필요하다. 8은 이진법으로 1000으로 표현되고 8개의 비트중 4개의 비트를 서브넷 ID로 사용하고 나머지 비트를 호스트 ID로 사용하면 된다.

주의해야할 점은 호스트 ID가 모두 0으로 채워진 값은 네트워크 주소라 사용할 수 없고 모두 1이 채워진 값은 브로드 캐스트 주소라서 사용할 수 없다.

이중 7번째 서브넷은 `0110/0000`(임의로 구분해 놓음)으로 사용 가능한 IP는 `11000000(192)`.`10101000(168)`.`00000001(1)`.`01100001` ~ `01101110`이다.

이를 십진법으로 나타내면 192.168.1.97 ~ 192.168.1.110범위이다. 하나의 서브넷 당 14개의 IP주소를 할당할 수 있다.


