# 불변성

## 개요

불변성이란 값이나 상태를 변경할 수 없는 것을 말한다.

원시 타입은 불변성을 가지고 참조 타입은 그렇지 않다.

원시 타입  
* Boolean
* String
* Number
* null
* undefined
* Symbol

참조 타입  
* Object
* Array

자바스크립트는 원시 타입에 대한 참조 및 값을 저장하기 위해서 Call Stack 메모리공간을 사용하지만 참조 타입의 경우 Heap이라는 별도의 메모리 공간을 사용한다. 이 경우 콜 스택은 개체 및 배열의 값이 아닌 메모리에서만 힙의 메모리 참조 ID를 값으로 저장한다.

예를 들어 String 타입인 title은 콜 스택에 주소 : 실제 값 으로 저장되지만 배열 user와 같은 경우는 힙에 실제 값이 있고 주소가 있다. 그리고 콜 스택에서는 주소 : 힙 주소가 저장된다.

이렇듯 참조 타입에서 객체나 배열의 값이 변할 때 원본 데이터가 변경되기 때문에 다른 객체에서 예상치 못한 오류가 발생할 수 있다.

또한 화면을 업데이트할 때 불변성을 지켜서 값을 이전 값과 비교해서 변경된 사항을 확인한 후 업데이터하기 때문에 불변성을 유지해야한다.

## 불변성을 지키는 방법

예를 들어 배열을 사용할 때는 새로운 배열을 반환하는 메소드를 사용하면 된다. 예를 들어 slice, map과 같은 메소드를 사용하면 원본 데이터는 유지한 채 새로운 배열을 리턴하기 때문에 불변성을 지킬 수 있지만 push나 splice와 같은 메소드는 원본 데이터를 변경한다.