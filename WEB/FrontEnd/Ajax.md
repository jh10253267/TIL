# Ajax
![네이버 탭 메뉴](<../스크린샷 2024-03-13 시간: 00.21.00.png>)


우리가 웹사이트를 이용하다 보면 탭메뉴를 볼 수 있다. 클릭을 하면 새로운 내용들이 보여진다. 아마 서버사이드 렌더링 방식이 메인이 되는 레거시한 백엔드를 다뤄봤다면 이런 동작이 어떻게 이뤄지는 지 궁금할 것이다.

일단 탭을 눌렀을 때 보여지는 내용들은 처음부터 있던게 아니라 클릭한 순간 함수가 실행되어 API서버에 요청을 보내 얻어오는 데이터이다. 이런 방식을 Ajax라고 부른다.

Ajax는 UX적으로 큰 이점을 주는데 만약 탭을 누를 때마다 새로운 링크로 이동된다고 해보자.

너무 불편해서 해당 웹서비스를 이용하기 꺼려질 것이다.

## Asynchronous JavaScript and XML

우리가 사용하는 프로그래밍 언어들은 위에서부터 아래로 한줄 한줄 실행된다.(언어의 종류에 따라 다르지만 일단 로직의 흐름이 그렇다)

이런 방식을 동기 방식이라고 한다.

```javascript
const a = () => console.log(1);
const b = () => console.log(2);

a();
b();
```

위의 코드는 위에서 아래로 실행되며 1이 출력되고 2가 출력된다.

```javascript
const a = () => {
  setTimeout(()=> {
    console.log(1);
  }, 1000)
}

const b = () => console.log(2);

a();
b();
```
setTimeout은 일정 시간뒤에 함수가 실행하는 함수이다.

이렇게 코드를 짠다면 2가 먼저 찍히고 1이 나중에 찍힌다.
이러한 방식을 비동기 방식이라고 한다.

비동시 방식은 카페에 여러명의 점원이 있는 상황으로 비유할 수 있다. 점원이 여러명이면 한 명이 주문을 받는동안 다른 점원들은 음료를 제조할 수 있다. 그리고 손님들은 대기하고 있다가 주문번호가 불리면(통보) 음료를 가져간다.

```javascript
let oReq = new XMLHttpRequest();
oReq.addEventListener("load", function() {
    console.log(this.responseText);
});
oReq.open("GET", "./json.txt");
oReq.send();
```
이렇게 간단한 Ajax를 구현할 수 있는데 위의 코드에서 console.log()는 이벤트큐에 보관되다가 "load" 이벤트가 발생하면 스택에 올라와서 실행된다.

비동기 방식의 핵심은 통보에 있다. 비동기는 여러 작업을 처리하기 때문에 나중에 결과가 나오면 이를 통보해주는 방식을 이용한다. 콜백이라고도 부른다.

이렇게 Ajax를 이용해 브라우저를 새로고침하지 않아도 새로운 정보를 얻어올 수 있는 것이다.
