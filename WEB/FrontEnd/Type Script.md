# Type Script

## 개요
세상에는 여러가지 프로그래밍 언어가 있다. 그 언어마다의 용도와 특성이 모두 다른데 여러가지 언어를 경험해 봤다면 자유로운 형식의 언어와 스트릭한 형식의 언어로 나눠볼 수 있을것이다.

예를 들어 c언어를 사용할 때 6줄의 코드를 작성해서 콘솔창에 Hello World를 출력했고 파이썬을 사용할 땐 한줄의 코드만 작성하면 된다.

자바스크립트는 비교적 자유로운 형식의 언어에 속한다.

장점으로는 배우기 쉽고 사용할 때도 자유롭게 코드를 작성할 수 있다는 것이 있다. 그러나 이런 자유로움이 반대로 단점으로 작용하기도 한다.

## 필요성
예를 들어 다음과 같은 덧셈 함수가 있다고 하자.
```javascript
function sum(num1, num2) {
  return num1 + num2;
}
```

```javascript
sum(10, 20); // 30
sum('10', '20'); //1020
```
그러나 우리가 원하는 결과는 첫번째 결과처럼 숫자 두 개를 더하는 것이였는데 문자열 두개를 이어버리는 연산이 수행되어버렸다.

이렇게 타입이 정수형이 아닌 문자형을 입력해도 오류를 발생시키지 않고 작동한다.


의도치 않은 입력값이 들어갔고 그로인해 의도치 않은 동작이 수행된다.

타입스크립트를 사용하면 이러한 오류를 사전에 방지할 수 있다.

## 정적 타입의 컴파일 언어
* 자바스크립트(동적 타입) - 런타임에서 동작할 때 타입오류를 확인한다.
* 타입스크립트(정적 타입) - 코드 작성단계에서 타입오류 확인
  자바스크립트로 변환(컴파일)후 브라우저나 Node.js환경에서 동작한다.

타입스크립트는 코드 작성 단계에서 타입오류를 확인하고 자바스크립트로 변환되어 동작하는 정적타입의 컴파일 언어라고 할 수 있겠다.

타입스크립트는 자바스크립트의 슈퍼셋으로 완벽하게 호환된다.
슈퍼셋은 기본적으로 자바스크립트의 기능을 모두 가지고있고 추가적인 기능을 포함하고있다는 의미이다.

오늘날 우리가 사용하는 대부분의 라이브러리나 프레임워크는 타입스크립트를 지원한다. 범용적으로 사용할 수 있다는 의미이다.


## Let's get started!

### 개발 환경 구성
우선 Node.js가 설치되어있어야하니 먼저 설치하기.  
[Node.js](https://nodejs.org/en)

1. vs코드 상에서 비어있는 폴더를 하나 생성한다.
2. 터미널을 열어서 `npm init -y`명령어를 입력한다.
3. `npm i -D parcel typescript`명령어를 입력한다.
4. 여기까지 잘 진행이 되었다면 pakage.json가 생성되고 의존성들이 들어가있을 것이다.
5.  pakage.json의 스크립트 부분을 다음과 같이 변경한다.
  ```
  "scripts": {
      "dev": "parcel ./index.html",
      "build": "parcel build ./index.html"
    },
  ```
6. tsconfig.json파일을 만들고 내용을 채워넣는다.
  ```
  {
    "compilerOptions": {
      "target": "ES2015",//변환할 자바스크립트의 버전
      "module": "ESNext",//자바스크립트(ESNext)로 변환
      "moduleResolution": "Node",
      "esModuleInterop": true,//자바스크립트는 ESM방식을 사용하지만 nodejs에선 common방식을 사용한다. 호환여부 true
      "lib": ["ESNext", "DOM"],//타입스크립트에서 자바스크립트로 컴파일될 때 내부적으로 사용되는 라이브러리 지정
      "strict": true//타입스크립트 문법 엄격히 적용
    },
    "include": [
      "src/**/*.ts"//어느 부분에서 타입스크립트 파일을 찾을 수 있는지
    ],
    "exclude": [
      "node_modules"//컴파일시 제외할 경로를 명시
      //해당 경로는 패키지를 보관하기 위한 용도로 컴파일을 위한 용도는 아니기에 제외
    ]
  }
  ```
7. 소스파일 폴더(src)를 만들고 그 안에 main.ts파일을 만든다.  
8. index.html 파일을 생성하고 밑의 스크립트를 추가한다.
  ```
  <script type="module" defer src="./src/main.ts"></script>
  ```


이제 타입스크립트 파일에서 타입스크립트를 작성해볼 수 있다.

간단한 예제를 살펴보자면
```javascript
let hello = 123 // 기존의 자바스크립트 방식 아무런 오류가 나지 않는다.
```
```javascript
//콜론과 자료형을 명시해서 타입을 보장할 수 있다.

let hello: String = 123; 

//오류 발생
//'number' 형식은 'String' 형식에 할당할 수 없습니다.
```

이렇게 작성된 타입 스크립트가 브라우저에서 동작하려면 자바스크립트로 변환되어야한다.

앞에서 의존성으로 추가한 파슬 번들러가 변환역할까지 해줄 수 있다.

이부분도 실습을 해보자면

다음의 명령어로 개발 서버를 오픈할 수 있다.

```
npm run dev
```
실행시키면
```
Server running at http://localhost:1234
```
이런 문구가 나오며 서버가 실행된다.

그리고 파슬 번들러는 결과를 만들 때 dist라는 폴더가 생성되는데 열어보면 사용할 수 있는 Index.html파일이 있고 내부 자바스크립트 부분을 보면 자동으로 자바스크립트 파일로 변환되어 적용되고 있는 것을 볼 수 있다.

```html
<script defer="" src="/index.b7a05eb9.js"></script>
```

그리고 이렇게 변환된 js파일로 한 번 이동해보면 다양한 내용들이 보이는데 여기서 우리가 작성한 코드를 검색해보면 
```javascript
let hello = "hello world!";
```
위와 같이 타입스크립트의 문법이 사라지고 자바스크립트 문법으로 변환된 것을 확인할 수 있다.

