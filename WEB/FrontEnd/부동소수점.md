# 부동소수점

## 개요

자바스크립트에서 좀 유명한 문제가 있는데 바로 숫자 연산에 관한 것이다.

## 문제점
```js
let num = 0.1 + 0.2;
console.log(num);
```

위의 코드에서 num의 값은 얼마일까? 0.3을 기대할 것이다. 그러나 출력 결과는 조금 뜻밖인데 결과는 `0.30000000000000004`가 된다.

왜 이런 일이 생긴걸까?

자바스크립트는 다른 프로그래밍 언어와 달리 Integer, Long Decimal등의 숫자 타입의 구분이 없다. 그리고 자바스크립트에서 숫자는 항상 64비트 부동소수점으로 저장된다. 

이는 컴퓨터가 연산할 때 2진법을 사용하기 때문이고 이러한 이유로 다른 프로그래밍 언어들의 경우 Integer, Long 등의 숫자타입을 만들어서 내부적으로 이러한 현상을 보정하는 코드가 구현되어있는 것이다.

64비트를 이용하여 수를 표현하고자한다면 다음과 같다.

부호를 나타내는 비트가 1비트, 지수부가 11비트 가수부 52비트를 이용한다.

0.1을 2진수로 변환하면 다음과 같다.

```js
console.log((0.1).toString(2));
//0.0001100110011001100110011001100110011001100110011001101
```

64비트 부동소수점으로 변환하기 위해서는 소수점을 1이 나올 때까지 왼쪽 혹은 오른쪽으로 옮겨야한다.

오른쪽으로 4칸을 옮기면 `1.100110011001100110011001100110011001100110011001101`이 된다.

0.1과 0.2를 이진수로 바꾸고 둘을 더한 결과를 64비트 부동 소수점으로 저장하면 `0.30000000000000004`가 나온다.

