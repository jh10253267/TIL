# CSRF

## Cross-Site Request Forgery

CSRF는 해킹기법으로 권한이 있는 사용자가 자신도 모르게 요청을 전송하게 하는 공격방식이다.

예를 들어 A라는 사용자가 있고 A사이트와 B사이트를 이용할 수 있다고 해보자.

사용자는 브라우저에서 A,B사이트 모두를 볼 수 있다. 공격자 B는 사용자 A가 보는 B사이트에서 A사이트에 무언가를 요청하는 악성코드를 심어놓는다.

이런 상황에서 사용자 A는 자신의 의사와 무관하게 A사이트에 특정한 작업을 수행할 수 있다.

예를 들어 어떤 사이트에서 유저의 비밀번호를 변경하는데 다음과 같은 url을 사용한다고 가정해보자.

`http://example.com/cmd=passwd_change&&newPwd=1234`

공격자B는 이러한 링크를 실행하는 프로그램을 A에게 보내고 A가 프로그램을 실행한다.

그럼 유저의 패스워드는 1234로 바뀌게된다.

이러한 작업을 방지하기 위해 CSRF토큰이라는 개념을 사용한다.

유저가 사이트를 이용할 때 매번 병경되는 문자열을 생성하고 요청시에 검증한다.

문자열이 변경되기 때문에 이 문자열을 알지 못하면 A의 요청을 처리하지 않도록한다.