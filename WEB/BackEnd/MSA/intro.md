# Intro

## Amazon

2011년 기준 아마존의 비즈니스 서비스가 배포되는 주기는 11.6초 그리고 2019년 에는 초당 1.5번

비즈니스는 계속 변경되고 이에 따라 개선된 시스템도 계속 배포되어야한다. 그리고 새로운 서비스를 내놓았는데 반응이 좋지 않다면 빠른 시간 안에 개선되어야한다.

우리가 사용하는 서비스는 빌드되고 배포된다. 그 과정에 걸리는 시간은 꽤 길다. 그러나 아마존에선 1.5초마다 변경 및 개선되어 배포되고있다고 하니 엄청난 속도이다.

이것이 가능한 이유는 여러가지가 있겠지만 그중 인프라 스트럭쳐부터 살펴보자.

서버를 도입하고 네트워크를 구축한 뒤 각 서버마다 운영체제를 설치하고 서비스에 필요한 소프트웨어를 설치하는 과정으로 진행되고 이 기간은 며칠에서 몇 달이 걸리기도 한다. 

새로운 서비스 개발을 위한 프로젝트를 시작한다고 했을 때 인프라를 구축하기 위한 초기 투자 비용을 고려해야하고 이것들을 지속적으로 관리하는 비용을 고려해야한다. 그러나 이러한 리스크들은 최근 도입되고있는 클라우드 인프라로 해결되었다. 그 중 대표적인 서비스가 바로 아마존 웹 서비스(AWS)이다.

이러한 클라우드 인프라는 사용량에 따라 비용이 청구된다. 서비스의 상황에 따라 유연하게 변경될 수 있다.

이를 이용해 간단하게 인프라를 구축할 수 있다.

사용량 증가에 따른 성능 및 가용성을 높이는 방법으로는 크게 두 가지가 있다. 스케일 업, 스케일 아웃.

스케일 업은 기존 시스템의 물리적 용량을 증가시켜 성능을 높이는 방법이다. 

스케일 아웃은 기존 시스템과 용량이 같은 다수의 장비를 병행 추가하여 가용성을 높이는 방법이다.

이중 좀 더 유연한 방법은 스케일 아웃이다. 이벤트 기간동안에 트래픽이 증가하는 서비스가 있을 것이고 그렇지 않은 서비스가 있을 것이다.

이를 적절히 활용할 수 있는 방법은 하나의 덩어리로 묶여있는 애플리케이션을 여러개의 애플리케이션으로 분리하는 것이다.

## 모노리스와 마이크로서비스

모노리스는 전통적인 시스템의 구조로 하나로 묶여 개발되는 애플리케이션이다. 보통 이를 사용자 인터페이스와 데이터베이스, 서버쪽 애플리케이션 3개의 부분으로 구성된다.

서버쪽 애플리케이션은 논리적인 단일체로 아무리 작은 변화라도 전체를 빌드해서 배포해야한다. 그리고 일체식 애플리케이션은 단일 프로세스에서 실행되기 때문에 확장이 필요할 경우 특정 기능만 확장할 수 없고 전체 애플리케이션을 동시에 확장해야한다. 보통 밸런서를 앞에 두고 여러 인스턴스 위에 큰 덩어리를 복제해 수평으로 확장하는 방식을 사용한다.

작은 변화가 일어났을 때는 이 모든 시스템을 다시 빌드하고 배포해야한다는 문제가 있다.

마이크로서비스는 서버측이 여러 개의 조각으로 구성되어있어 각 서비스가 별개의 인스턴스로 로딩된다. 만약 특정 서비스를 확장하고 싶다면 그 서비스만 스케일 아웃하면 된다.