# 스웨거 어노테이션

## 개요
이런 저런 라이브러리를 사용할 때 깔끔하게 사용가능한 라이브러리들이 있고 그렇지 않은 것들이 있다.
스웨거가 그렇다.

스프링부트 버전에 따라서 똑같은 스웨거라도 fox를 사용할건지 doc을 사용할건지 갈리고 설정도 달라진다.

스웨거 페이지를 좀더 알기 쉽게 하기위한 어노테이션을 이번 기회에 정리해보려한다.

스웨거는 그 의존성을 추가하는 것만으로도 기본적인 명세와 테스트를 해볼 수 있다.

스프링부트 3점대 버전부터는 아래의 의존성을 추가해주면 된다.

```implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'```

찾아보면 여러가지 swagger 의존성이 나오는데 개인적으론 하나로 통일시켜주면 좋겠다.

사용해도 제대로 딱딱 들어맞는 게 아니라 어거지로 세팅하는 것 같아 불편하다.

쿼리Dsl도 마찬가지로 좀 어거지로 세팅하는 것 같다.

## 어노테이션 정리
간단한 어노테이션을 설정해주면 스웨거 페이지를 꾸밀 수 있다.

그리고 각 컨트롤러에 주석을 남기는 것보다 어노테이션을 붙여서 메소드의 기능을 명시할 수 있으니 여러모로 좋다.

2점대 버전과 3점대 버전 어노테이션의 이름이 바뀐 부분이 있어서 나중에 보려고 기록해둔다.

큰 분류부터 내려가본다.

### @Tag
스웨거는 각 api경로들을 패키지별로 나눈다. 프로젝트를 도메인 별로 나누어 관리한다고하면 하나의 도메인은 스웨거에서 하나로 묶인다.

이럴 때 컨트롤러의 상단에 @Tag 어노테이션을 붙여서 해당 도메인에 대한 설명을 적을 수 있다.
@Tag의 속성은 name과 description이 있다.
```
@Tag(name = "게시글", description = "게시글 api")
```
이와 같이 사용할 수 있다.

### @Operation
컨트롤러의 각 메소드에 붙이는 어노테이션이다.
속성은 summary, description,response, parameters이 있는데 사용해본 것은 앞의 두 개 뿐이다.
나중에 스웨거에 힘 좀 주고싶을 때 사용하려 한다.

summary는 스웨거의 각 api항목을 펼치지 않았을 때 보이는 부분이다.

description은 스웨거의 api항목을 펼쳤을 때 보이는 부분이다.


