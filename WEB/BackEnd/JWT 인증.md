# JWT 인증

## 개요
API서버란 화면을 제공하지 않고 필요한 데이터만 제공하는 서버를 말한다.
이와 같은 방식을 CSR.  클라이언트 사이드 렌더링이라 한다.
이 때 서버와 통신하는 URL을 외부에서 알게되면 문제가 생기게 된다.

## 토큰 기반의 인증
초창기 API서버는 API 서버를 호출하는 프로그램의 IP주소를 확인하는 방법으로 외부로 부터의 무분별한 호출을 막았다.
호출하는 쪽의 IP와 서버 내부에 보관된 IP를 비교하여 허용된 IP에서만 API서버에서 결과를 만들어 주는 식이었다.
그리고 이와 함께 정해진 키값을 이용하는 것이 일반적인 방법이다.

최근에는 토큰을 이용하곤 하는데 API를 이용하고자 하는 사람들은 서버에서 토큰을 받아 보관하고 호출할 때 자신이 보관하고 있는 토큰을 같이 전달하여 서버에서 이를 확인하는 방식이다.

## Access Token & Refresh Token

입장권에 해당하는 토큰을 API서버에서는 Access Token이라 한다. 이는 특정 자원에 접근할 권한이 있는지 확인하기 위한 수단이다. 
그러나 만약 이 Access Token을 악의적인 목적을 가진 사용자에게 탈취당한다면 문제가 생긴다. 그렇기 때문에 이 토큰의 유효기간을 최대한 짧게 지정하고
Access Token을 발급받을 수 있는 Refresh Token을 생성해주어 필요할 때 다시 발급받을 수 있게 한다.

그러나 만약 이 토큰 둘 다 탈취당하는 경우는 어떻게 해아할까?
우리가 다른 컴퓨터나 해외에서 내 계정에 접속하면 메일이나 휴대폰 알림이 발송되는 것을 자주 봐왔을 것이다.
이는 원래의 사용자에게 활동 여부를 알려주거나 특정한 IP에서만 사용할 수 있도록 하는 현실적인 해결책이다.

